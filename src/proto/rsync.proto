syntax = "proto3";

package rsync;

service DestinationService {
  rpc CheckConnection() returns () {}
  rpc RequestSignature(File) returns (Signature) {}
  rpc RequestPatch(Patch) returns () {}
}

message File {
  int32 id = 1;
  string filepath = 2;
}

message Signature {
  int32 id = 1;
  string signature = 2;
}

message Patch {
  int32 id = 1;
  string patch = 2;
}
